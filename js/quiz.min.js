const questionsFR=[{question:"Pensez-vous avoir ou avoir eu de la fièvre ces 10 derniers jours (frissons, sueurs) ?",type:"radio",answers:["oui","non"]},{question:"Quelle est votre température corporelle ?",type:"number",label:"degés"},{question:"Ces derniers jours, avez-vous une toux ou une augmentation de votre toux habituelle ?",type:"radio",answers:["oui","non"]},{question:"Avez-vous eu des courbatures inhabituelles au cours des derniers jours ?",type:"radio",answers:["oui","non"]},{question:"Ces derniers jours, avez-vous un mal de gorge ?",type:"radio",answers:["oui","non"]},{question:"Ces dernières 24 heures, avez-vous de la diarrhée ? Avec au moins 3 selles mol les.",type:"radio",answers:["Oui","Non"]},{question:"Ces derniers jours, avez-vous une fatigue inhabituelle qui vous a obligé à vous reposer plus de la moitié de la journée ?",type:"radio",answers:["oui","non"]},{question:"Avez-vous des difficultés importantes pour vous alimenter ou boire depuis plus de 24h ?",type:"radio",answers:["oui","non"]},{question:"Dans les dernières 24 heures, avez-vous noté un manque de souffle inhabituel lorsque vous parlez ou faites un petit effort ?",type:"radio",answers:["oui","non"]},{question:"Actuellement, comment vous vous sentez ?",type:"radio",answers:["Bien","Assez bien","Fatigué(e)","Très fatigué"]},{question:"Quel est votre âge ? Ceci, afin de calculer un facteur de risque spécifique.",type:"number",label:"ans"},{question:"Quel est votre poids ? Afin de calculer l’indice de masse corporelle qui est un facteur influençant le risque de complications de l’infection.",type:"number",label:"kg"},{question:"Quelle est votre taille ? Afin de calculer l’indice de masse corporelle qui est un facteur influençant le risque de complications de l’infection.",type:"number",label:"cm"},{question:"Avez-vous de l’hypertension artérielle mal équilibrée ? Ou avez-vous une maladie cardiaque ou vasculaire ? Ou prenez-vous un traitement à visée cardiologique ?",type:"radio",answers:["oui","non"]},{question:"Êtes-vous diabétique ?",type:"radio",answers:["oui","non"]},{question:"Avez-vous ou avez-vous eu un cancer ?",type:"radio",answers:["oui","non"]},{question:"Avez-vous une maladie respiratoire ? Ou êtes-vous suivi par un pneumologue ?",type:"radio",answers:["oui","non"]},{question:"Avez-vous une insuffisance rénale chronique dialysée ?",type:"radio",answers:["oui","non"]},{question:"Avez-vous une maladie chronique du foie ?",type:"radio",answers:["oui","non"]},{question:"Êtes-vous enceinte ?",type:"radio",answers:["oui","non","homme"]},{question:"Avez-vous une maladie connue pour diminuer vos défenses immunitaires ?",type:"radio",answers:["oui","non"]},{question:"Prenez-vous un traitement immunosuppresseur ? C’est un traitement qui diminue vos défenses contre les infections. Voici quelques exemples: corticoïdes, méthotrexate, ciclosporine, tacrolimus, azathioprine, cyclophosphamide (liste nonexhaustive).",type:"radio",answers:["oui","non"]}],adviceFR={num1:"nous vous conseillons de rester à votre domicile et de contacter votre médecin en cas d’apparition de nouveaux symptômes. Vous pourrez aussi utiliser à nouveau l’application pour réévaluer vos symptômes.",num2:"téléconsultation ou médecin généraliste ou visite à domicile.",num3:"Votre situation ne relève probablement pas du Covid-19. Consultez votre médecin au moindre doute.",num4:"Votre situation ne relève probablement pas du Covid-19. Un avis médical est recommandé. Au moindre doute, appelez le 141.",num5:"Votre situation ne relève probablement pas du Covid-19. N’hésitez pas à contacter votre médecin en cas de doute. Vous pouvez refaire le test en cas de nouveau symptôme pour réévaluer la   situation.   Pour   toute information concernant   le   Covid-19 allez vers la page d’accueil.",disclamer:"La recommandation affichée peut évoluer suivant les informations en provenance des autorités de santé et des chercheurs. Elle ne constitue pas un avis médical. En cas de doute, demandez conseil à votre médecin ou pharmacien."},questionsAR=[{question:"واش كانت فيك السخانة في 10 أيام لي فاتت (التوريشة,العرق)؟",type:"radio",answers:["نعم","لا"]},{question:"شحال درجة الحرارة ديالك ؟",type:"number",label:"درجة"},{question:"في الايام لي فاتو واش كانت فيك الكحبة اولا تزادت الكحبة لي كانت كتجيك عادية؟",type:"radio",answers:["نعم","لا"]},{question:"واش كتعاني من آلام عضلية غير معتادة في الأيام القليلة لي فاتت؟",type:"radio",answers:["نعم","لا"]},{question:"واش كتحس بآلام فحلقك هاد الايام ؟",type:"radio",answers:["نعم","لا"]},{question:"فهاد 24 ساعة لي فاتو واش كان فيك الإسهال ؟ على الاقل 3 مرات",type:"radio",answers:["نعم","لا"]},{question:"فهاد الايام لي فاتو، واش عيتي بطريقة ماشي عادية لدرجة بقيتي مريح اكثر من نص يوم ؟",type:"radio",answers:["نعم","لا"]},{question:"واش لقيتي صعوبة كبيرة فالماكلة و الشراب لاكثر من 24 ساعة ؟",type:"radio",answers:["نعم","لا"]},{question:"واش كتحس بضيق فالتنفس ملي كتكلم ولا كدير جهد كثر من العادة ؟",type:"radio",answers:["نعم","لا"]},{question:"فهاد الوقت كيف كتحس بالجسم ديالك ؟",type:"radio",answers:["مزيان","شويا","عيان","مهلوك"]},{question:"شحال عندك فعمرك ؟ هادشي باش نقدو نعرفو الخطورة ديال المرض إلا كان.",type:"number",label:"ans"},{question:"شحال عندك فالوزن ؟ باش نعرفو مؤشر الوزن ديال الجسم ديالك حيث يقدر يتزاد عليك الحال فحالة كان فيك الڤيروس",type:"number",label:"kg"},{question:"شحال فيك فالطول ؟ باش نعرفو مؤشر الوزن ديال الجسم ديالك حيث يقدر يتزاد عليك الحال فحالة كان فيك الڤيروس",type:"number",label:"cm"},{question:"واش عندك ارتفاع ضغط الدم ؟ ولا فيك مرض القلب او الأوعية الدموية ؟ او كتاخد دوا ديال القلب ؟",type:"radio",answers:["نعم","لا"]},{question:"فيك مرض السكر ؟",type:"radio",answers:["نعم","لا"]},{question:"واش فيك السرطان ولا كان فيك السرطان؟",type:"radio",answers:["نعم","لا"]},{question:"واش عندك الضيقة ؟ او متبع مع شي طبيب ديال الرية",type:"radio",answers:["نعم","لا"]},{question:"واش كدير دياليز؟",type:"radio",answers:["نعم","لا"]},{question:"واش عندك إلتهاب فالكبد ؟",type:"radio",answers:["نعم","لا"]},{question:"واش حاملة ؟",type:"radio",answers:["نعم","لا","راجل"]},{question:"واش عندك شي مرض تينقص لك المناعة ديالك ؟",type:"radio",answers:["نعم","لا"]},{question:"واش تتاخد شي دواء تينقص لك المناعة ديالك ؟ بحال: الكورتيكوستيرويدات ، الميثوتريكسات ، السيكلوسبورين ، تاكروليموس ، الآزوثيوبرين ، سيكلوفوسفاميد (كاين ادوية اخرى من غير هادو).",type:"radio",answers:["نعم","لا"]}],adviceAR={num1:"نوصي بالبقاء في المنزل والاتصال بطبيبك إذا ظهرت أعراض جديدة. يمكنك أيضًا استخدام التطبيق مرة أخرى لإعادة تقييم أعراضك.",num2:"استشارة عن بعد أو ممارس عام أو زيارة منزلية.",num3:"حالتك الصحية متتخلعش",num4:"حالتك الصحية متتخلعش إذا كنت في شك ، اتصل بـ 141.",num5:"ربما لا يندرج وضعك تحت Covid-19. لا تتردد في الاتصال بطبيبك إذا كنت في شك. يمكنك تكرار الاختبار إذا كان هناك عرض جديد لإعادة تقييم الموقف. للحصول على جميع المعلومات المتعلقة بـ Covid-19 ، انتقل إلى الصفحة الرئيسية.",stayhome:"بقى فدارك، وحاول متخالطش مع الناس، بزاف ديال الناس الي فيهم الفيروس ماتايبانش فيهم أعراض المرض",disclamer:"قد تتغير التوصية المعروضة وفقًا لمعلومات من السلطات الصحية والباحثين. لا تشكل نصيحة طبية. إذا كنت في شك ، اطلب من طبيبك أو الصيدلي النصيحة."};let Models=(()=>{let e,t;t={answers:[],gravityFa:{gravity:0,minor:0,major:0},pronostique:0,age:0,temp:0};let s={fever:!1,toux:!1,courbatures:!1,gorge:!1,diarrhee:!1},n=()=>{t.gravityFa.gravity+=1,t.gravityFa.minor+=1},r=()=>{t.gravityFa.gravity+=1,t.gravityFa.major+=1};return{storeData:(e,s,n)=>{let r={id:e,type:s,answer:n};t.answers[e]?t.answers[e]=r:t.answers.push(r)},processData:()=>{"oui"===t.answers[0].answer&&(s.fever=!0),n(),"oui"===t.answers[2].answer&&(s.toux=!0),"oui"===t.answers[3].answer&&(s.courbatures=!0),"oui"===t.answers[4].answer&&(s.gorge=!0),"oui"===t.answers[5].answer&&(s.diarrhee=!0),t.age+=parseFloat(t.answers[10].answer),(parseFloat(t.answers[1].answer)>39||parseFloat(t.answers[1].answer)<35.4)&&n(),t.temp+=parseFloat(t.answers[1].answer),"oui"===t.answers[6].answer&&n(),"oui"===t.answers[7].answer&&r(),"oui"===t.answers[8].answer&&r(),"Fatigué(e)"!==t.answers[9].answer&&"Très fatigué"!==t.answers[9].answer||n(),t.answers.slice(13,22).forEach(e=>{"oui"===e.answer&&(t.pronostique+=1)})},CalculateResults:()=>{if(s.fever||s.toux&&s.gorge||s.toux&&s.courbatures||s.fever&&s.diarrhee)if(0===t.pronostique){if(0===t.gravityFa.gravity&&t.age<50)return e.num2;if(0===t.gravityFa.gravity&&50<t.age<69||t.gravityFa.minor>=1)return e.num2}else{if(0===t.gravityFa.gravity)return e.num2;if(2==t.gravityFa.minor)return e.stayhome}if(s.fever&&s.toux){if(0===t.pronostique&&0==t.gravityFa.minor)return e.num2;if(t.pronostique>0&&t.gravityFa.minor>=0||0===t.gravityFa.gravity)return e.num2}if(s.fever||s.toux||s.gorge||s.courbatures){if(0==t.gravityFa.gravity)return e.num4;if(t.pronostique>=1&&t.gravityFa.gravity>=1)return e.num3}return e.num5},Data:()=>{console.log(t)},symptom:()=>{console.log(s)},advice:()=>e,adiviceLang:()=>{e=localStorage.getItem("lang")?"fr"===localStorage.getItem("lang")?adviceFR:adviceAR:adviceFR}}})(),UIcontroller=(()=>{let e,t;return e={intro:".quiz-initiation ",quizNav:".quiz-nav",btnInit:".btn-init",btnNext:".btn-next",btnPrev:".btn-prev",btnRepete:".btn-repete",QuizQuestion:".quiz__question",QuizBody:".quiz-body",QuizAnswer:".quiz__answers",dotSteps:".bar__dot-info--init",progressBar:"#progress-bar",progressBarclasse:".progress-bar",progressLabel:".progress-bar__label",QuizResult:".QuizResult",QuizAnsResult:".QuizResult__title"},{getDOMstrings:()=>e,checkType:e=>t[e].type,showQuestions:(s,n)=>{0===s?(document.querySelector(e.intro).classList.add("hidden"),document.querySelector(e.btnInit).classList.add("hidden"),document.querySelector(e.btnNext).classList.remove("hidden"),document.querySelector(e.QuizBody).classList.remove("hidden"),document.querySelector(e.dotSteps).style.left="23.5rem"):document.querySelector(e.btnPrev).classList.remove("hidden"),document.querySelector(e.QuizAnswer).innerHTML="",document.querySelector(e.QuizQuestion).textContent=t[s].question,"number"===n?(1===s&&document.querySelector(e.QuizAnswer).insertAdjacentHTML("beforeend",`<div class="quiz__answers-input "><input type="number" min="34" max="42" step="1" value="" placeholder="37,0" id="val-input" required><label for=val-input>${t[s].label}</label></div> `),10===s&&document.querySelector(e.QuizAnswer).insertAdjacentHTML("beforeend",`<div class="quiz__answers-input "><input type="number" min="15" max="110" step="1" value="" placeholder="15 - 110" id="val-input" required><label for=val-input>${t[s].label}</label></div> `),11===s&&document.querySelector(e.QuizAnswer).insertAdjacentHTML("beforeend",`<div class="quiz__answers-input "><input type="number" min="20" max="250" step="1" value="" placeholder="60" id="val-input" required><label for=val-input>${t[s].label}</label></div> `),12===s&&document.querySelector(e.QuizAnswer).insertAdjacentHTML("beforeend",`<div class="quiz__answers-input "><input type="number" min="40" max="250" step="1" value="" placeholder="170" id="val-input" required><label for=val-input>${t[s].label}</label></div> `)):t[s].answers.forEach(t=>{let s;s="نعم"===t?"oui":"لا"===t?"non":"مزيان"===t?"bien":"شويا"===t?"Assez bien":"عيان"===t?"Fatigué(e)":"مهلوك"===t?"Très fatigué":"راجل"===t?"homme":t,document.querySelector(e.QuizAnswer).insertAdjacentHTML("beforeend",`<div class="quiz__answers-option">\n                    <input type="radio" id="f-option" value="${s}" name="selector" >\n                    <label for="f-option">${t}</label>\n                    <div class="check"></div>\n                </div>`)})},DisplayResults:t=>{document.querySelector(e.QuizResult).classList.remove("hidden"),document.querySelector(e.btnRepete).classList.remove("hidden"),document.querySelector(e.progressBarclasse).classList.add("hidden"),document.querySelector(e.btnNext).classList.add("hidden"),document.querySelector(e.btnPrev).classList.add("hidden"),document.querySelector(e.QuizBody).classList.add("hidden"),console.log(t),document.querySelector(e.QuizAnsResult).textContent=`${t}`},progressBar:t=>{document.querySelector(e.progressBar).value=t,document.querySelector(e.progressLabel).textContent=`${t}/22`},questions:()=>questionsFR,questionsLang:()=>{t=localStorage.getItem("lang")?"fr"===localStorage.getItem("lang")?questionsFR:questionsAR:questionsFR}}})(),Controller=((e,t)=>{let s,n,r,o=0,i=e=>{e.target.value&&e.target.checkValidity()?(c(n.btnNext),r=e.target.value):(d(n.btnNext),e.target.reportValidity())},a=()=>{t.showQuestions(o),t.progressBar(o+1),d(n.btnNext)},u=()=>{if(s=t.checkType(o),""!==r){if(e.storeData(o,s,r),r="",21===o){Models.processData();let e=Models.CalculateResults();return t.DisplayResults(e),void(document.querySelector(n.dotSteps).style.left="44.5rem")}o++,s=t.checkType(o),t.showQuestions(o,s),d(n.btnNext),t.progressBar(o+1),c(n.btnPrev)}else d(n.btnNext)},l=()=>{if(1===o)d(n.btnPrev);else{if(0===o)return;c(n.btnPrev)}o--,s=t.checkType(o),t.showQuestions(o,s),t.progressBar(o+1)};const d=e=>{document.querySelector(e).disabled=!0},c=e=>{document.querySelector(e).disabled=!1};return{init:()=>{console.log("Quiz started !"),n=t.getDOMstrings(),document.querySelector(n.btnInit).addEventListener("click",a),document.querySelector(n.btnNext).addEventListener("click",u),document.querySelector(n.btnPrev).addEventListener("click",l),document.querySelector(n.QuizAnswer).addEventListener("change",e=>i(e)),document.querySelector(n.QuizAnswer).addEventListener("keyup",e=>i(e)),document.querySelector(".btn__lang").addEventListener("click",()=>{t.questionsLang(),e.adiviceLang()}),t.questionsLang(),Models.adiviceLang()}}})(Models,UIcontroller);Controller.init();